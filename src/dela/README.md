# DelA - 压缩包文件清理工具 (简化版)

专门删除单文件夹结构压缩包中根目录的 json/log/txt/yaml 文件。

## 🎯 功能特点

- ✅ **智能检测** - 利用idu判断压缩包结构
- ✅ **精确删除** - 只删除符合条件的文件
- ✅ **安全操作** - 删除前确认，避免误操作
- ✅ **批量处理** - 支持目录批量处理

## 🔧 处理条件

只处理同时满足以下条件的压缩包：

1. **单文件夹结构** - 压缩包内只有一个主文件夹
2. **根目录有目标文件** - 根目录存在 `.json`、`.log`、`.txt`、`.yaml` 文件

## 📊 处理逻辑

```
压缩包结构示例:
archive.zip/
├── file.json          ← 会被删除
├── debug.log           ← 会被删除  
├── readme.txt          ← 会被删除
└── folder/
    ├── content.jpg
    └── data.json       ← 不会被删除（在文件夹内）
```

## 🚀 使用方法

```bash
# 运行工具
python -m dela

# 输入要处理的目录路径
请输入要处理的文件夹路径: /path/to/archives
```

## ⚙️ 配置文件

`config.json`:
```json
{
  "description": "简化版配置 - 只删除单文件夹结构压缩包中根目录的目标文件",
  "archive_types": [".zip", ".7z", ".rar"],
  "target_extensions": [".json", ".log", ".txt", ".yaml"],
  "ui_settings": {
    "confirm_before_delete": true,
    "max_files_display": 50
  }
}
```

## 📝 处理流程

1. **扫描压缩包** - 查找指定目录中的压缩包文件
2. **结构分析** - 使用idu判断是否为单文件夹结构
3. **文件检测** - 检查根目录是否有目标文件类型
4. **确认删除** - 显示待删除文件列表，等待用户确认
5. **执行删除** - 使用7z删除指定文件
6. **结果报告** - 显示处理结果统计

## 🛡️ 安全特性

- **条件限制** - 只处理特定结构的压缩包
- **确认机制** - 删除前显示文件列表并确认
- **详细日志** - 显示每个文件的处理结果
- **错误处理** - 处理失败时不影响其他文件

## 🎯 适用场景

- 清理压缩包中的调试文件
- 移除不需要的日志文件
- 删除临时配置文件
- 批量清理下载的压缩包

这个简化版本专注于特定场景，避免了复杂的配置和误操作风险。
